<h1 align="center">
<br>
  <img src="https://github.com/ljlm0402/typescript-express-starter/raw/images/logo.jpg" alt="Project Logo" />
  <br>
    <br>
  TypeScript Express Starter
  <br>
</h1>

<h4 align="center">üöÄ Express RESTful API Boilerplate Using TypeScript</h4>

<p align ="center">
  <a href="https://nodei.co/npm/typescript-express-starter" target="_blank">
    <img src="https://nodei.co/npm/typescript-express-starter.png" alt="npm Info" />
  </a>
</p>

<p align="center">
    <a href="http://npm.im/typescript-express-starter" target="_blank">
      <img src="https://img.shields.io/npm/v/typescript-express-starter.svg" alt="npm Version" />
    </a>
    <a href="http://npm.im/typescript-express-starter" target="_blank">
      <img src="https://img.shields.io/github/v/release/ljlm0402/typescript-express-starter" alt="npm Release Version" />
    </a>
    <a href="http://npm.im/typescript-express-starter" target="_blank">
      <img src="https://img.shields.io/npm/dm/typescript-express-starter.svg" alt="npm Downloads" />
    </a>
    <a href="http://npm.im/typescript-express-starter" target="_blank">
      <img src="https://img.shields.io/npm/l/typescript-express-starter.svg" alt="npm Package License" />
    </a>
</p>

<p align="center">
  <a href="https://github.com/ljlm0402/typescript-express-starter/stargazers" target="_blank">
    <img src="https://img.shields.io/github/stars/ljlm0402/typescript-express-starter" alt="github Stars" />
  </a>
  <a href="https://github.com/ljlm0402/typescript-express-starter/network/members" target="_blank">
    <img src="https://img.shields.io/github/forks/ljlm0402/typescript-express-starter" alt="github Forks" />
  </a>
  <a href="https://github.com/ljlm0402/typescript-express-starter/stargazers" target="_blank">
    <img src="https://img.shields.io/github/contributors/ljlm0402/typescript-express-starter" alt="github Contributors" />
  </a>
  <a href="https://github.com/ljlm0402/typescript-express-starter/issues" target="_blank">
    <img src="https://img.shields.io/github/issues/ljlm0402/typescript-express-starter" alt="github Issues" />
  </a>
</p>

<br />

- [üá∫üá∏ English](https://github.com/ljlm0402/typescript-express-starter/blob/master/README.md)

<br />

## üòé Introducing The Project

Express consists of JavaScript, which makes it vulnerable to type definitions.

That's why we avoid supersets with starter packages that introduce TypeScript.

The package is configured to use TypeScript instead of JavaScript.

> The project referred to [express-generator-typescript](https://github.com/seanpmaxwell/express-generator-typescript)

### ü§î What is Express ?

Express is a fast, open and concise web framework and is a Node.js based project.

## üöÄ Quick Start

### Use npm Global Package

This TypeScript-Express starter kit is designed for rapid development of RESTful APIs with strong typing. It uses TypeScript for safer code, Express.js for the server framework, Prisma for ORM, Jest for testing, Docker for containerization, and PM2 for process management.

## üõé Available Commands for the Server

- **Run the Server in production mode**: Run with `npm run start` or use `Start typescript-express-starter` in VS Code.
- **Run the Server in development mode**: Execute `npm run dev` or select `Dev typescript-express-starter` in VS Code.
- **Run all unit-tests**: Use `npm test` or click on `Test typescript-express-starter` in VS Code.
- **Check for linting errors**: Perform with `npm run lint` or select `Lint typescript-express-starter` in VS Code.
- **Fix for linting**: Apply fixes with `npm run lint:fix` or use `Lint:Fix typescript-express-starter` in VS Code.
- **Build the project for production**: Compile with `npm run build`.
- **Alternative TypeScript build**: Execute `npm run build:tsc` for TypeScript compilation with aliases.
- **Format code using Prettier**: Format your codebase using `npm run format`.
- **Initialize Prisma**: Set up Prisma with `npm run prisma:init`.
- **Run Prisma migrations**: Apply database migrations using `npm run prisma:migrate`.
- **Generate Prisma client**: Generate or update the Prisma client with `npm run prisma:generate`.
- **Seed the database**: Populate your database with initial data using `npm run seed`.
- **Open Prisma Studio**: Explore your data with `npm run prisma:studio`.
- **Deploy to production using PM2**: Deploy your application in production mode with `npm run deploy:prod`.
- **Deploy to development environment using PM2**: Deploy your application in development mode with `npm run deploy:dev`.

## üíé The Project Features

<p>
  <img src="https://img.shields.io/badge/-TypeScript-007ACC?style=for-the-badge&logo=TypeScript&logoColor=fff" />&nbsp;&nbsp;
  <img src="https://img.shields.io/badge/-Node.js-339933?style=for-the-badge&logo=Node.js&logoColor=fff" />&nbsp;&nbsp;
  <img src="https://img.shields.io/badge/-NPM-CB3837?style=for-the-badge&logo=NPM&logoColor=fff" />&nbsp;&nbsp;
</p>
<p>
  <img src="https://img.shields.io/badge/-Docker-2496ED?style=for-the-badge&logo=Docker&logoColor=fff" />&nbsp;&nbsp;
  <img src="https://img.shields.io/badge/-NGINX-269539?style=for-the-badge&logo=NGINX&logoColor=fff" />
  <img src="https://img.shields.io/badge/-PM2-2B037A?style=for-the-badge&logo=PM2&logoColor=fff" />&nbsp;&nbsp;
  <img src="https://img.shields.io/badge/-Nodemon-76D04B?style=for-the-badge&logo=Nodemon&logoColor=fff" />&nbsp;&nbsp;
  <img src="https://img.shields.io/badge/-ESLint-4B32C3?style=for-the-badge&logo=ESLint&logoColor=fff" />&nbsp;&nbsp;
  <img src="https://img.shields.io/badge/-Prettier-F7B93E?style=for-the-badge&logo=Prettier&logoColor=000" />&nbsp;&nbsp;
  <img src="https://img.shields.io/badge/-Jest-C21325?style=for-the-badge&logo=Jest&logoColor=fff" />&nbsp;&nbsp;
  <img src="https://img.shields.io/badge/-Swagger-85EA2D?style=for-the-badge&logo=Swagger&logoColor=000" />
  <img src="https://img.shields.io/badge/-SWC-FFFFFF?style=for-the-badge&logo=swc&logoColor=FBE1A6" />
</p>
<p>
  <img src="https://img.shields.io/badge/-MySQL-4479A1?style=for-the-badge&logo=MySQL&logoColor=fff" />&nbsp;&nbsp;
  <img src="https://img.shields.io/badge/-PRISMA-605EFE?style=for-the-badge&logo=prisma" />&nbsp;&nbsp;
</p>

### üê≥ Docker :: Container Platform

[Docker](https://docs.docker.com/) is a platform for developers and sysadmins to build, run, and share applications with containers.

[Docker](https://docs.docker.com/get-docker/) Install.

- starts the containers in the background and leaves them running : `docker-compose up -d`
- Stops containers and removes containers, networks, volumes, and images : `docker-compose down`

Modify `docker-compose.yml` and `Dockerfile` file to your source code.

### ‚ôªÔ∏è NGINX :: Web Server

[NGINX](https://www.nginx.com/) is a web server that can also be used as a reverse proxy, load balancer, mail proxy and HTTP cache.

Proxying is typically used to distribute the load among several servers, seamlessly show content from different websites, or pass requests for processing to application servers over protocols other than HTTP.

When NGINX proxies a request, it sends the request to a specified proxied server, fetches the response, and sends it back to the client.

Modify `nginx.conf` file to your source code.

### ‚ú® ESLint, Prettier :: Code Formatter

[Prettier](https://prettier.io/) is an opinionated code formatter.

[ESLint](https://eslint.org/), Find and fix problems in your JavaScript code

It enforces a consistent style by parsing your code and re-printing it with its own rules that take the maximum line length into account, wrapping code when necessary.

1. Install [VSCode](https://code.visualstudio.com/) Extension [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode), [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)

2. `CMD` + `Shift` + `P` (Mac Os) or `Ctrl` + `Shift` + `P` (Windows)

3. Format Selection With

4. Configure Default Formatter...

5. Prettier - Code formatter

<img src="https://user-images.githubusercontent.com/42952358/126604937-4ef50b61-b7e4-4635-b3c9-3c94dd6b06fa.png" alt="Formatter Setting" />

> Palantir, the backers behind TSLint announced in 2019 that they would be deprecating TSLint in favor of supporting typescript-eslint in order to benefit the community.
> So, migration from TSLint to ESLint.

### üìó Swagger :: API Document

[Swagger](https://swagger.io/) is Simplify API development for users, teams, and enterprises with the Swagger open source and professional toolset.

Easily used by Swagger to design and document APIs at scale.

Start your app in development mode at `http://localhost:3000/api-docs`

Modify `swagger.yaml` file to your source code.

### üåê REST Client :: HTTP Client Tools

REST Client allows you to send HTTP request and view the response in Visual Studio Code directly.

VSCode Extension [REST Client](https://marketplace.visualstudio.com/items?itemName=humao.rest-client) Install.

Modify `*.http` file in src/http folder to your source code.

### üîÆ PM2 :: Advanced, Production process manager for Node.js

[PM2](https://pm2.keymetrics.io/) is a daemon process manager that will help you manage and keep your application online 24/7.

- production mode :: `npm run deploy:prod` or `pm2 start ecosystem.config.js --only prod`
- development mode :: `npm run deploy:dev` or `pm2 start ecosystem.config.js --only dev`

Modify `ecosystem.config.js` file to your source code.

### üèé SWC :: a super-fast JavaScript / TypeScript compiler

[SWC](https://swc.rs/) is an extensible Rust-based platform for the next generation of fast developer tools.

`SWC is 20x faster than Babel on a single thread and 70x faster on four cores.`

- tsc build :: `npm run build`
- swc build :: `npm run build:swc`

Modify `.swcrc` file to your source code.

### üíÑ Makefile :: This is a setting file of the make program used to make the compilation that occurs repeatedly on Linux

[Makefile](https://makefiletutorial.com/)s are used to help decide which parts of a large program need to be recompiled.

- help :: `make help`

Modify `Makefile` file to your source code.

## üóÇ Code Structure (default)

```sh
‚îÇ
‚îú‚îÄ‚îÄüìÇ .vscode
‚îÇ  ‚îú‚îÄ‚îÄ launch.json
‚îÇ  ‚îî‚îÄ‚îÄ settings.json
‚îÇ
‚îú‚îÄ‚îÄüìÇ src
‚îÇ  ‚îú‚îÄ‚îÄüìÇ config
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ index.ts
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄüìÇ controllers
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ auth.controller.ts
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ users.controller.ts
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄüìÇ dtos
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ users.dto.ts
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄüìÇ exceptions
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ httpException.ts
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄüìÇ http
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ auth.http
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ users.http
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄüìÇ interfaces
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ auth.interface.ts
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ routes.interface.ts
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ users.interface.ts
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄüìÇ middlewares
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ auth.middleware.ts
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ error.middleware.ts
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ validation.middleware.ts
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄüìÇ models
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ users.model.ts
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄüìÇ routes
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ auth.route.ts
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ users.route.ts
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄüìÇ services
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ auth.service.ts
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ users.service.ts
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄüìÇ test
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ auth.test.ts
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ users.test.ts
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄüìÇ utils
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ logger.ts
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ vaildateEnv.ts
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ app.ts
‚îÇ  ‚îî‚îÄ‚îÄ server.ts
‚îÇ
‚îú‚îÄ‚îÄ .dockerignore
‚îú‚îÄ‚îÄ .editorconfig
‚îú‚îÄ‚îÄ .env.development.local
‚îú‚îÄ‚îÄ .env.production.local
‚îú‚îÄ‚îÄ .env.test.local
‚îú‚îÄ‚îÄ .eslintignore
‚îú‚îÄ‚îÄ .eslintrc
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ .huskyrc
‚îú‚îÄ‚îÄ .lintstagedrc.json
‚îú‚îÄ‚îÄ .prettierrc
‚îú‚îÄ‚îÄ .swcrc
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ Dockerfile.dev
‚îú‚îÄ‚îÄ Dockerfile.prod
‚îú‚îÄ‚îÄ ecosystem.config.js
‚îú‚îÄ‚îÄ jest.config.js
‚îú‚îÄ‚îÄ Makefile
‚îú‚îÄ‚îÄ nginx.conf
‚îú‚îÄ‚îÄ nodemon.json
‚îú‚îÄ‚îÄ package-lock.json
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ swagger.yaml
‚îî‚îÄ‚îÄ tsconfig.json
```

| Folder Name   | Purpose                                                                                            |
| ------------- | -------------------------------------------------------------------------------------------------- |
| `config`      | Contains configuration files, such as database and environment settings.                           |
| `controllers` | Houses the logic for handling requests and responses.                                              |
| `dtos`        | Data Transfer Objects for type checking the data sent to and from the API.                         |
| `exceptions`  | Custom exception classes for error handling.                                                       |
| `http`        | Contains files related to HTTP requests, possibly middleware or services.                          |
| `interfaces`  | TypeScript interfaces to enforce structure on objects and classes.                                 |
| `middlewares` | Middleware functions for request processing in the API, such as authentication and error handling. |
| `models`      | Database models for ORM (Object-Relational Mapping).                                               |
| `routes`      | Router files that define API endpoints and their corresponding handlers.                           |
| `services`    | Business logic and service layer, abstracting the operations for controllers.                      |
| `test`        | Contains test files for unit and integration testing.                                              |
| `utils`       | Utility functions and helpers, like logging and environment validation.                            |

### üèÉ Steps to Run the Server

Follow these steps to get the server up and running smoothly:

1. **Install TypeScript Globally**: Ensure TypeScript is installed on your machine for compiling TypeScript files to JavaScript. Follow the [TypeScript Installation Guide](https://www.typescriptlang.org/download).

2. **Install Project Dependencies**: Run `npm install` in the project directory to install all the necessary dependencies defined in the `package.json` file.

3. **Set Up Environment Variables**: Configure the necessary environment variables. Create `.env` files for different environments (development, production, test) based on the examples provided in the repository. This includes setting up database connection details, port numbers, and other sensitive configurations. (The one I sent on Discord)

4. **Install Docker**: If the application requires Docker, download and install [Docker Desktop](https://www.docker.com/products/docker-desktop). Ensure Docker is running before proceeding with steps that involve Docker commands.

   - Starts the containers in the background and leaves them running : `docker-compose up -d`
   - Stops containers and removes containers, networks, volumes, and images : `docker-compose down`

5. **Database Setup**: Our application uses a database, ensure that it is correctly set up. This may involve:

   - Running migrations: Execute `npm run prisma:migrate` to update the database schema.
   - Generating the Prisma client: Run `npm run prisma:generate` to ensure your application can communicate with the database using the latest schema.
   - Seeding the database with initial data: Use `npm run seed` to populate your database with the initial data set up in your seed file.

6. **Start the Server in Development Mode**: Execute `npm run dev` within the server directory to start the application in development mode. This command uses `nodemon` and `ts-node` to dynamically reload the server upon file changes.

7. **Access the Application**: Open `http://localhost8000/` in a web browser. The application should be running and accessible at this address.

8. **NPM Scripts Explanation**: Become acquainted with the npm scripts defined in `package.json` to streamline development and deployment processes:
   - `npm run dev`: Starts the application in development mode with hot reloading enabled, allowing for real-time updates as you modify the code. Ideal for development and debugging.
   - `npm run build`: Compiles the TypeScript application to JavaScript in the `dist` directory for production deployment.
   - `npm run prisma:migrate`: Executes Prisma migrations to keep your database schema up-to-date.
   - `npm run seed`: Populates your database with initial data using the seeding script.
   - `npm run deploy:prod`: Utilizes PM2 to deploy the application in a production environment.
   - `npm run format`: Formats your codebase using Prettier to ensure consistency and readability. It's recommended to regularly run this command before commits and pushing to the repository to minimize merge conflicts and maintain code quality.
   - Additional scripts for linting, formatting, and testing are available to uphold code quality and reliability. It is a good practice to integrate `npm run format` into your pre-commit hooks using tools like Husky to automate the formatting process.

Regular use of `npm run format` before committing and pushing changes is advised to avoid merge conflicts and ensure a consistent

9. **Port Configuration**: By default, the application runs on port `8000`. To use a different port, modify the port configuration in the `.env` files or the server's main entry point.

10. **Troubleshooting**: If you encounter any issues during setup:

    - Ensure all dependencies are correctly installed by running `npm install`.
    - Verify that Docker is running if you're using Docker-related commands.
    - Check database connections and environment variable configurations.

11. **Security Considerations**: Do not commit sensitive configuration files (like `.env`) to version control. Always follow best practices for securing your application, especially when deploying to production environments.

By following these detailed steps, you'll be well-prepared to get the TypeScript Express server application running effectively on your development machine. Make sure to follow each step carefully to ensure the server runs smoothly on your local development environment.

# ‡¥¶‡µç‡¥¶‡¥ø*Àä·óúÀã*)
